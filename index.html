<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dicionário Emakhua | Inteligente & Único</title>
    
    <!-- Fontes -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Ícones -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* ============================================
           CSS ORIGINAL ATUALIZADO
        ============================================ */
        
        /* Reset e Variáveis */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            /* Cores principais - Gradiente futurista */
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --dark-gradient: linear-gradient(135deg, #141e30 0%, #243b55 100%);
            --glass-bg: rgba(255, 255, 255, 0.08);
            --glass-border: rgba(255, 255, 255, 0.1);
            --text-primary: #ffffff;
            --text-secondary: rgba(255, 255, 255, 0.85);
            --text-muted: rgba(255, 255, 255, 0.6);
            --accent-color: #00d4ff;
            --success-color: #00ff88;
            --card-bg: rgba(20, 30, 48, 0.7);
            --shadow-color: rgba(0, 0, 0, 0.3);
            
            /* Fontes */
            --font-primary: 'Inter', -apple-system, sans-serif;
            --font-heading: 'Space Grotesk', 'Inter', sans-serif;
            
            /* Animações */
            --transition-smooth: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-fast: all 0.2s ease;
            
            /* Tamanho de fonte base - controlável pelo usuário */
            --font-size-base: 16px;
        }
        
        /* Tema claro (alternativo) */
        .light-theme {
            --primary-gradient: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            --secondary-gradient: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            --dark-gradient: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            --glass-bg: rgba(255, 255, 255, 0.95);
            --glass-border: rgba(0, 0, 0, 0.05);
            --text-primary: #1a202c;
            --text-secondary: rgba(26, 32, 44, 0.85);
            --text-muted: rgba(26, 32, 44, 0.6);
            --accent-color: #6a11cb;
            --success-color: #00b894;
            --card-bg: rgba(255, 255, 255, 0.9);
            --shadow-color: rgba(0, 0, 0, 0.08);
        }
        
        /* Aplicar tamanho de fonte base */
        body {
            font-family: var(--font-primary);
            background: var(--dark-gradient);
            color: var(--text-primary);
            min-height: 100vh;
            transition: var(--transition-smooth);
            overflow-x: hidden;
            position: relative;
            font-size: var(--font-size-base);
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(102, 126, 234, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(244, 67, 54, 0.1) 0%, transparent 50%);
            z-index: -1;
            animation: pulse 15s ease-in-out infinite alternate;
        }
        
        /* ============================================
           LAYOUT RESPONSIVO MELHORADO
           (funciona bem em vertical e horizontal)
        ============================================ */
        
        .app-container {
            display: grid;
            grid-template-columns: 280px 1fr;
            grid-template-rows: auto auto 1fr auto;
            min-height: 100vh;
            gap: 0;
            position: relative;
            overflow: hidden;
        }
        
        /* Header */
        .app-header {
            grid-column: 1 / -1;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--glass-border);
            padding: 0 30px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: 1000;
            animation: slideDown 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            min-height: 70px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo-icon {
            width: 40px;
            height: 40px;
            background: var(--primary-gradient);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            animation: float 6s ease-in-out infinite;
        }
        
        /* ============================================
           FRISO DE VARIANTES MELHORADO
           (oculto por padrão, abre ao clicar)
        ============================================ */
        
        .variants-container {
            grid-column: 1 / -1;
            position: relative;
            z-index: 999;
        }
        
        .variant-toggle {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 12px 20px;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--glass-border);
            cursor: pointer;
            transition: var(--transition-smooth);
            color: var(--text-secondary);
            font-weight: 500;
        }
        
        .variant-toggle:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .variant-toggle i {
            transition: transform 0.3s ease;
        }
        
        .variant-toggle.active i {
            transform: rotate(180deg);
        }
        
        .variants-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--glass-border);
            padding: 15px 20px;
            display: none;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 10px;
            max-height: 300px;
            overflow-y: auto;
            z-index: 998;
        }
        
        .variants-dropdown.active {
            display: grid;
            animation: slideDown 0.3s ease;
        }
        
        .variant-option {
            padding: 10px 15px;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--glass-border);
            color: var(--text-secondary);
            cursor: pointer;
            transition: var(--transition-fast);
            text-align: center;
            font-size: 0.9rem;
        }
        
        .variant-option:hover {
            background: rgba(102, 126, 234, 0.2);
            transform: translateY(-2px);
        }
        
        .variant-option.active {
            background: var(--primary-gradient);
            color: white;
            border-color: transparent;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }
        
        /* ============================================
           SIDEBAR COM CATEGORIAS EXPANSÍVEIS
        ============================================ */
        
        .sidebar-nav {
            grid-row: 3;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-right: 1px solid var(--glass-border);
            padding: 20px;
            overflow-y: auto;
            animation: slideInLeft 0.7s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .nav-title {
            font-family: var(--font-heading);
            font-weight: 600;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--text-muted);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
        }
        
        .nav-title i {
            transition: transform 0.3s ease;
        }
        
        .nav-title.active i {
            transform: rotate(180deg);
        }
        
        .nav-items {
            display: flex;
            flex-direction: column;
            gap: 5px;
            margin-bottom: 25px;
        }
        
        .nav-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 12px 15px;
            border-radius: 10px;
            text-decoration: none;
            color: var(--text-secondary);
            transition: var(--transition-fast);
            position: relative;
            overflow: hidden;
            font-size: 0.95rem;
        }
        
        .nav-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--primary-gradient);
            opacity: 0;
            transition: var(--transition-fast);
            z-index: -1;
        }
        
        .nav-item:hover {
            color: white;
            transform: translateX(5px);
        }
        
        .nav-item:hover::before {
            opacity: 1;
        }
        
        .nav-item.active {
            background: var(--primary-gradient);
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }
        
        /* Submenu de categorias */
        .submenu {
            display: none;
            margin-left: 20px;
            margin-top: 10px;
            border-left: 2px solid var(--glass-border);
            padding-left: 15px;
        }
        
        .submenu.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }
        
        .submenu-item {
            padding: 8px 12px;
            border-radius: 8px;
            color: var(--text-secondary);
            text-decoration: none;
            display: block;
            transition: var(--transition-fast);
            font-size: 0.9rem;
        }
        
        .submenu-item:hover {
            background: rgba(255, 255, 255, 0.05);
            color: var(--accent-color);
        }
        
        /* ============================================
           CONTEÚDO PRINCIPAL COMPACTO
           (mais palavras por tela)
        ============================================ */
        
        .main-content {
            grid-row: 3;
            padding: 20px;
            overflow-y: auto;
            animation: fadeIn 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .content-header {
            margin-bottom: 25px;
        }
        
        .search-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin: 0 auto 20px;
        }
        
        .search-input {
            width: 100%;
            padding: 14px 20px 14px 50px;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            font-size: 1rem;
            color: var(--text-primary);
            transition: var(--transition-smooth);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }
        
        .search-input:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(0, 212, 255, 0.1);
        }
        
        .search-icon {
            position: absolute;
            left: 18px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
        }
        
        /* ============================================
           LISTA DE PALAVRAS COMPACTA
           (máximo de palavras por tela)
        ============================================ */
        
        .words-list-compact {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 12px;
        }
        
        .word-card-compact {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 15px;
            transition: var(--transition-fast);
            border: 1px solid var(--glass-border);
            backdrop-filter: blur(10px);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .word-card-compact:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px var(--shadow-color);
            border-color: var(--accent-color);
        }
        
        .word-card-compact.active {
            border-color: var(--accent-color);
            background: rgba(0, 212, 255, 0.05);
        }
        
        .word-header-compact {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin-bottom: 8px;
        }
        
        .word-letter-compact {
            width: 32px;
            height: 32px;
            min-width: 32px;
            background: var(--primary-gradient);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1rem;
            color: white;
            box-shadow: 0 3px 10px rgba(102, 126, 234, 0.3);
        }
        
        .word-text-compact {
            flex: 1;
            min-width: 0;
        }
        
        .word-emakhua-compact {
            font-family: var(--font-heading);
            font-weight: 600;
            font-size: 1.1rem;
            color: var(--text-primary);
            line-height: 1.3;
            margin-bottom: 4px;
            word-break: break-word;
        }
        
        .word-class-compact {
            display: inline-block;
            padding: 3px 8px;
            background: rgba(0, 212, 255, 0.1);
            color: var(--accent-color);
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-right: 8px;
        }
        
        .word-details-compact {
            display: flex;
            gap: 10px;
            margin-top: 8px;
            flex-wrap: wrap;
        }
        
        .word-detail-item {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 0.8rem;
            color: var(--text-muted);
        }
        
        .word-detail-item i {
            font-size: 0.7rem;
        }
        
        /* ============================================
           PAINEL DE DETALHES (MODAL)
           (só aparece ao clicar)
        ============================================ */
        
        .word-detail-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            z-index: 2000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
            animation: fadeIn 0.3s ease;
        }
        
        .word-detail-modal.active {
            display: flex;
        }
        
        .modal-content {
            background: var(--card-bg);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            width: 100%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            border: 1px solid var(--glass-border);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            animation: slideUp 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .modal-header {
            padding: 25px 30px;
            border-bottom: 1px solid var(--glass-border);
            position: relative;
        }
        
        .modal-close {
            position: absolute;
            right: 25px;
            top: 25px;
            width: 36px;
            height: 36px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid var(--glass-border);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-primary);
            cursor: pointer;
            transition: var(--transition-fast);
        }
        
        .modal-close:hover {
            background: var(--primary-gradient);
            transform: rotate(90deg);
        }
        
        .modal-body {
            padding: 25px 30px;
        }
        
        /* ============================================
           ESTILOS PARA GÊNERO E NÚMERO
        ============================================ */
        
        .gender-badge {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-left: 8px;
        }
        
        .gender-masculino {
            background: rgba(66, 153, 225, 0.15);
            color: #4299e1;
        }
        
        .gender-femenino {
            background: rgba(236, 72, 153, 0.15);
            color: #ec4899;
        }
        
        .number-badge {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-left: 8px;
        }
        
        .number-singular {
            background: rgba(72, 187, 120, 0.15);
            color: #48bb78;
        }
        
        .number-plural {
            background: rgba(246, 173, 85, 0.15);
            color: #f6ad55;
        }
        
        /* ============================================
           SIGNIFICADOS E EXEMPLOS
        ============================================ */
        
        .meaning-section {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 3px solid var(--accent-color);
        }
        
        .meaning-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .meaning-number {
            width: 28px;
            height: 28px;
            background: var(--secondary-gradient);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: white;
            font-size: 0.9rem;
        }
        
        .meaning-definition {
            font-size: 1.05rem;
            line-height: 1.6;
            color: var(--text-primary);
            margin-bottom: 20px;
        }
        
        .examples-grid {
            display: grid;
            gap: 15px;
            margin-top: 15px;
        }
        
        .example-card {
            background: rgba(0, 0, 0, 0.1);
            border-radius: 10px;
            padding: 15px;
        }
        
        .example-title {
            font-size: 0.85rem;
            color: var(--text-muted);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .example-text {
            font-size: 1rem;
            line-height: 1.5;
            color: var(--text-primary);
        }
        
        .example-emakhua {
            font-weight: 600;
            color: var(--accent-color);
        }
        
        /* ============================================
           CONFIGURAÇÕES NO SIDEBAR
        ============================================ */
        
        .settings-section {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid var(--glass-border);
        }
        
        .font-size-control {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }
        
        .font-size-slider {
            flex: 1;
            height: 6px;
            -webkit-appearance: none;
            appearance: none;
            background: var(--glass-bg);
            border-radius: 3px;
            outline: none;
        }
        
        .font-size-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: var(--accent-color);
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0, 212, 255, 0.4);
        }
        
        .font-size-value {
            min-width: 40px;
            text-align: center;
            font-size: 0.9rem;
            color: var(--accent-color);
            font-weight: 600;
        }
        
        /* ============================================
           RESPONSIVIDADE MELHORADA
        ============================================ */
        
        @media (max-width: 1024px) {
            .app-container {
                grid-template-columns: 1fr;
                grid-template-rows: auto auto auto 1fr auto;
            }
            
            .sidebar-nav {
                grid-row: 4;
                display: none;
            }
            
            .sidebar-nav.active {
                display: block;
                position: fixed;
                top: 0;
                left: 0;
                width: 280px;
                height: 100vh;
                z-index: 1001;
            }
            
            .main-content {
                grid-row: 4;
            }
            
            .words-list-compact {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
        }
        
        @media (max-width: 768px) {
            .app-header {
                padding: 0 20px;
                flex-direction: column;
                gap: 15px;
                padding: 15px 20px;
            }
            
            .search-container {
                width: 100%;
                margin-bottom: 15px;
            }
            
            .words-list-compact {
                grid-template-columns: 1fr;
                gap: 10px;
            }
            
            .variants-dropdown {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            }
            
            .modal-content {
                max-height: 85vh;
            }
        }
        
        @media (max-width: 480px) {
            .main-content {
                padding: 15px;
            }
            
            .word-card-compact {
                padding: 12px;
            }
            
            .modal-header,
            .modal-body {
                padding: 20px;
            }
        }
        
        /* ============================================
           ANIMAÇÕES
        ============================================ */
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-8px); }
        }
        
        @keyframes pulse {
            0% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        
        @keyframes slideDown {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        @keyframes slideInLeft {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes slideUp {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        /* Efeitos especiais */
        .glow-effect {
            position: fixed;
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: radial-gradient(circle, var(--accent-color) 0%, transparent 70%);
            filter: blur(40px);
            opacity: 0.1;
            z-index: -1;
            animation: moveGlow 20s infinite linear;
        }
        
        @keyframes moveGlow {
            0% { transform: translate(0, 0); }
            25% { transform: translate(100vw, 50vh); }
            50% { transform: translate(50vw, 100vh); }
            75% { transform: translate(0, 50vh); }
            100% { transform: translate(0, 0); }
        }
        
        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--glass-border);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--accent-color);
        }
        
        /* Loading */
        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 3px solid var(--glass-border);
            border-top: 3px solid var(--accent-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Menu mobile toggle */
        .menu-toggle {
            display: none;
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            background: var(--primary-gradient);
            border-radius: 50%;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            z-index: 1002;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }
        
        @media (max-width: 1024px) {
            .menu-toggle {
                display: flex;
                align-items: center;
                justify-content: center;
            }
        }
    </style>
</head>
<body class="dark-theme">
    <!-- Efeitos de fundo -->
    <div class="glow-effect" style="top: 20%; left: 10%;"></div>
    <div class="glow-effect" style="top: 60%; left: 80%; animation-delay: -10s;"></div>
    
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-brain"></i> <!-- Ícone de inteligência -->
                </div>
                <div class="logo-text">
                    <h1>Dicionário Emakhua</h1>
                    <p>Inteligente & Único</p>
                </div>
            </div>
            
            <div class="search-container">
                <i class="fas fa-search search-icon"></i>
                <input type="text" class="search-input" placeholder="Buscar palavra Emakhua..." id="global-search">
            </div>
        </header>
        
        <!-- ============================================
             FRISO DE VARIANTES (OCULTO POR PADRÃO)
        ============================================ -->
        <div class="variants-container">
            <div class="variant-toggle" id="variant-toggle">
                <span id="current-variant-display">Todas as Variantes</span>
                <i class="fas fa-chevron-down"></i>
            </div>
            
            <div class="variants-dropdown" id="variants-dropdown">
                <div class="variant-option active" data-variant="all">
                    <i class="fas fa-globe-africa"></i>
                    Todas as Variantes
                    <span style="font-size: 0.8rem; opacity: 0.7;">(1247)</span>
                </div>
                
                <div class="variant-option" data-variant="enahara">
                    <i class="fas fa-map-marker-alt"></i>
                    Enahara
                    <span style="font-size: 0.8rem; opacity: 0.7;">(384)</span>
                </div>
                
                <div class="variant-option" data-variant="emakhuwani">
                    <i class="fas fa-map-marker-alt"></i>
                    Emakhuwani
                    <span style="font-size: 0.8rem; opacity: 0.7;">(312)</span>
                </div>
                
                <div class="variant-option" data-variant="emarevoni">
                    <i class="fas fa-map-marker-alt"></i>
                    Emarevoni
                    <span style="font-size: 0.8rem; opacity: 0.7;">(298)</span>
                </div>
                
                <div class="variant-option" data-variant="emettho">
                    <i class="fas fa-map-marker-alt"></i>
                    Emettho
                    <span style="font-size: 0.8rem; opacity: 0.7;">(275)</span>
                </div>
                
                <div class="variant-option" data-variant="eshirima">
                    <i class="fas fa-map-marker-alt"></i>
                    Eshirima
                    <span style="font-size: 0.8rem; opacity: 0.7;">(264)</span>
                </div>
                
                <div class="variant-option" data-variant="elomwe">
                    <i class="fas fa-map-marker-alt"></i>
                    Elomwe
                    <span style="font-size: 0.8rem; opacity: 0.7;">(314)</span>
                </div>
            </div>
        </div>
        
        <!-- Sidebar Navegação -->
        <nav class="sidebar-nav" id="sidebar-nav">
            <div class="nav-title" id="categories-toggle">
                <span>Navegação</span>
                <i class="fas fa-chevron-down"></i>
            </div>
            
            <div class="nav-items" id="main-nav">
                <a href="#" class="nav-item active" data-section="dictionary">
                    <i class="fas fa-book"></i>
                    <span>Dicionário</span>
                </a>
                
                <a href="#" class="nav-item" id="categories-main">
                    <i class="fas fa-layer-group"></i>
                    <span>Categorias</span>
                    <i class="fas fa-chevron-right" style="margin-left: auto; font-size: 0.8rem;"></i>
                </a>
                
                <!-- Submenu de Categorias (oculto por padrão) -->
                <div class="submenu" id="categories-submenu">
                    <a href="#" class="submenu-item" data-category="all">
                        <i class="fas fa-th-large"></i>
                        Todas as Palavras
                    </a>
                    <a href="#" class="submenu-item" data-category="verbs">
                        <i class="fas fa-running"></i>
                        Verbos
                    </a>
                    <a href="#" class="submenu-item" data-category="nouns">
                        <i class="fas fa-font"></i>
                        Substantivos
                    </a>
                    <a href="#" class="submenu-item" data-category="adjectives">
                        <i class="fas fa-palette"></i>
                        Adjetivos
                    </a>
                    <a href="#" class="submenu-item" data-category="animals">
                        <i class="fas fa-paw"></i>
                        Animais
                    </a>
                    <a href="#" class="submenu-item" data-category="nature">
                        <i class="fas fa-tree"></i>
                        Natureza
                    </a>
                    <a href="#" class="submenu-item" data-category="family">
                        <i class="fas fa-users"></i>
                        Família
                    </a>
                    <a href="#" class="submenu-item" data-category="food">
                        <i class="fas fa-utensils"></i>
                        Comida
                    </a>
                </div>
                
                <a href="sobre.html" class="nav-item">
                    <i class="fas fa-info-circle"></i>
                    <span>Sobre</span>
                </a>
                
                <a href="termos.html" class="nav-item">
                    <i class="fas fa-file-contract"></i>
                    <span>Termos</span>
                </a>
            </div>
            
            <!-- ============================================
                 CONFIGURAÇÕES NO SIDEBAR
            ============================================ -->
            <div class="settings-section">
                <div class="nav-title">Configurações</div>
                
                <div class="nav-items">
                    <!-- Tema -->
                    <div class="nav-item" style="cursor: pointer;" id="theme-toggle">
                        <i class="fas fa-moon"></i>
                        <span>Tema: Escuro</span>
                    </div>
                    
                    <!-- Tamanho da Fonte -->
                    <div class="nav-item" style="cursor: default;">
                        <i class="fas fa-text-height"></i>
                        <span>Tamanho da Letra</span>
                    </div>
                    
                    <div class="font-size-control">
                        <small>A</small>
                        <input type="range" min="12" max="24" value="16" class="font-size-slider" id="font-size-slider">
                        <big>A</big>
                        <span class="font-size-value" id="font-size-value">16px</span>
                    </div>
                </div>
            </div>
            
            <!-- Estatísticas -->
            <div class="settings-section">
                <div class="nav-title">Estatísticas</div>
                
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-top: 15px;">
                    <div style="text-align: center;">
                        <div style="font-size: 1.5rem; font-weight: 700; color: var(--accent-color);" id="stat-total">1247</div>
                        <div style="font-size: 0.8rem; color: var(--text-muted);">Palavras</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 1.5rem; font-weight: 700; color: var(--success-color);" id="stat-variants">6</div>
                        <div style="font-size: 0.8rem; color: var(--text-muted);">Variantes</div>
                    </div>
                </div>
            </div>
        </nav>
        
        <!-- Conteúdo Principal -->
        <main class="main-content">
            <div class="content-header">
                <h1 style="font-family: var(--font-heading); font-size: 1.8rem; margin-bottom: 15px; 
                          background: linear-gradient(135deg, var(--text-primary) 0%, var(--accent-color) 100%); 
                          -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
                    <span id="current-variant-title">Todas as Variantes</span>
                    <span style="font-size: 1rem; color: var(--text-muted); margin-left: 10px;">
                        (<span id="word-count">1247</span> palavras)
                    </span>
                </h1>
                
                <!-- Índice alfabético rápido -->
                <div style="display: flex; flex-wrap: wrap; gap: 5px; margin-bottom: 20px;">
                    <span style="font-size: 0.9rem; color: var(--text-muted); margin-right: 10px;">Índice:</span>
                    <div style="display: flex; flex-wrap: wrap; gap: 3px;">
                        <!-- Gerado por JavaScript -->
                    </div>
                </div>
            </div>
            
            <!-- Lista Compacta de Palavras -->
            <div class="words-list-compact" id="words-list">
                <!-- Carregado dinamicamente -->
            </div>
            
            <!-- Loading -->
            <div id="loading" style="text-align: center; padding: 40px;">
                <div class="loading-spinner"></div>
                <p style="color: var(--text-muted); margin-top: 10px;">Carregando palavras...</p>
            </div>
            
            <!-- Botão Carregar Mais -->
            <div id="load-more-container" style="text-align: center; margin: 30px 0; display: none;">
                <button id="load-more-btn" style="padding: 12px 24px; background: var(--primary-gradient); 
                        border: none; border-radius: 10px; color: white; font-weight: 600; 
                        cursor: pointer; transition: var(--transition-fast); font-size: 0.9rem;">
                    <i class="fas fa-plus-circle"></i> Carregar Mais Palavras
                </button>
            </div>
        </main>
        
        <!-- ============================================
             MODAL DE DETALHES (SÓ APARECE AO CLICAR)
        ============================================ -->
        <div class="word-detail-modal" id="word-detail-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 style="font-family: var(--font-heading); font-size: 1.8rem; 
                              background: linear-gradient(135deg, var(--text-primary) 0%, var(--accent-color) 100%); 
                              -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;"
                        id="modal-word-title">
                        Carregando...
                    </h2>
                    <button class="modal-close" id="modal-close">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="modal-body" id="modal-word-content">
                    <!-- Preenchido dinamicamente -->
                </div>
            </div>
        </div>
        
        <!-- Footer -->
        <footer class="app-footer" style="grid-column: 1 / -1; padding: 15px 20px; text-align: center; 
                background: var(--glass-bg); border-top: 1px solid var(--glass-border); font-size: 0.85rem;">
            <div class="footer-content">
                <div class="footer-copyright">Dicionário Emakhua Inteligente © 2026</div>
                <div class="footer-author">By Prof. Nito | Preservação Linguística</div>
                <div style="margin-top: 5px; color: var(--text-muted); font-size: 0.8rem;">
                    <i class="fas fa-wifi-slash"></i> Funciona totalmente offline
                </div>
            </div>
        </footer>
        
        <!-- Botão Menu Mobile -->
        <button class="menu-toggle" id="menu-toggle">
            <i class="fas fa-bars"></i>
        </button>
    </div>
    
    <script>
        // ============================================
        // BANCO DE DADOS ATUALIZADO COM GÊNERO E NÚMERO
        // ============================================
        
        const database = {
            stats: {
                total: 1247,
                byVariant: {
                    all: 1247,
                    enahara: 384,
                    emakhuwani: 312,
                    emarevoni: 298,
                    emettho: 275,
                    eshirima: 264,
                    elomwe: 314
                },
                byCategory: {
                    verbs: 382,
                    nouns: 645,
                    adjectives: 187,
                    animals: 156,
                    nature: 243,
                    family: 89,
                    food: 112
                }
            },
            
            palavras: [
                {
                    id: "mure_001",
                    palavra_emakhua: "muɾé",
                    classe_gramatical: "substantivo",
                    categoria: "animais",
                    frequencia: "alta",
                    genero: "masculino",
                    numero: "singular",
                    
                    variantes: {
                        enahara: {
                            pronuncia: "muɾé",
                            tom: "HL",
                            plural: "aɾé",
                            significados: [
                                {
                                    definicao_emakhua: "Mthu wa kuvinya wakwe mbere na yikala munthini",
                                    contexto: "uso geral, doméstico",
                                    exemplos: {
                                        emakhua: "Muɾé wa mwene wapɨhɨra",
                                        portugues: "O cão do dono está latindo"
                                    }
                                },
                                {
                                    definicao_emakhua: "Mthu wa kulinda nyumba na vamwene vakwe",
                                    contexto: "segurança, proteção",
                                    exemplos: {
                                        emakhua: "Muɾé uli kulinda maziko usiku wothe",
                                        portugues: "O cão vigia o portão a noite toda"
                                    }
                                }
                            ],
                            notas: "Animal tradicionalmente domesticado na cultura Emakhua"
                        },
                        
                        emakhuwani: {
                            pronuncia: "muhé",
                            tom: "LH",
                            plural: "ahé",
                            significados: [
                                {
                                    definicao_emakhua: "Cinyama ca kuviniha ca mberewa muthini",
                                    contexto: "rural, tradicional",
                                    exemplos: {
                                        emakhua: "Muhé wa mwanalume wakwe wakwera",
                                        portugues: "O cão do homem está correndo"
                                    }
                                }
                            ]
                        }
                    }
                },
                
                {
                    id: "nyumba_002",
                    palavra_emakhua: "nyumba",
                    classe_gramatical: "substantivo",
                    categoria: "construções",
                    frequencia: "muito alta",
                    genero: "femenino",
                    numero: "singular",
                    plural: "nyumba",
                    
                    variantes: {
                        enahara: {
                            pronuncia: "nyumba",
                            tom: "LH",
                            plural: "nyumba",
                            significados: [
                                {
                                    definicao_emakhua: "Cipande ca kukala muthu na cinyake cakwe",
                                    contexto: "habitação, lar",
                                    exemplos: {
                                        emakhua: "Nyumba yane yili pafupi na mtsinje",
                                        portugues: "Minha casa fica perto do riacho"
                                    }
                                }
                            ]
                        }
                    }
                },
                
                {
                    id: "muthu_003",
                    palavra_emakhua: "muthu",
                    classe_gramatical: "substantivo",
                    categoria: "seres",
                    frequencia: "muito alta",
                    genero: "masculino",
                    numero: "singular",
                    plural: "anthu",
                    
                    variantes: {
                        enahara: {
                            pronuncia: "muthu",
                            tom: "HL",
                            plural: "anthu",
                            significados: [
                                {
                                    definicao_emakhua: "Munthu wakwe wakula na kughanilwa",
                                    contexto: "geral, humano",
                                    exemplos: {
                                        emakhua: "Muthu wose wakwe na mahumbi ghakwe",
                                        portugues: "Cada pessoa tem seus problemas"
                                    }
                                }
                            ]
                        }
                    }
                },
                
                {
                    id: "kulowa_004",
                    palavra_emakhua: "kulowa",
                    classe_gramatical: "verbo",
                    categoria: "ações",
                    frequencia: "alta",
                    tempo: "infinitivo",
                    
                    variantes: {
                        enahara: {
                            pronuncia: "kulowa",
                            tom: "LHL",
                            conjugacao: {
                                presente: "nalowa",
                                passado: "nalowile",
                                futuro: "ndilowa"
                            },
                            significados: [
                                {
                                    definicao_emakhua: "Kutola zakudya mukanwa na kuzigaya",
                                    contexto: "alimentação, necessidade básica",
                                    exemplos: {
                                        emakhua: "Nthawi zose tikalowa usiku",
                                        portugues: "Sempre comemos à noite"
                                    }
                                }
                            ]
                        }
                    }
                },
                
                {
                    id: "zuri_005",
                    palavra_emakhua: "zuri",
                    classe_gramatical: "adjetivo",
                    categoria: "qualidades",
                    frequencia: "alta",
                    genero: "invariável",
                    numero: "invariável",
                    
                    variantes: {
                        enahara: {
                            pronuncia: "zuri",
                            tom: "HL",
                            significados: [
                                {
                                    definicao_emakhua: "Cakwe cakongola na cakoma",
                                    contexto: "estética, qualidade",
                                    exemplos: {
                                        emakhua: "Nyumba zuri kwambiri",
                                        portugues: "Casa muito bonita"
                                    }
                                }
                            ]
                        }
                    }
                }
            ],
            
            consultarPorVariante: function(variant) {
                if (variant === 'all') {
                    return this.palavras;
                }
                
                return this.palavras.filter(palavra => {
                    return palavra.variantes && palavra.variantes[variant];
                });
            },
            
            consultarPorCategoria: function(categoria, variant = 'all') {
                let palavras = this.consultarPorVariante(variant);
                
                if (categoria === 'all') {
                    return palavras;
                }
                
                return palavras.filter(p => p.categoria === categoria || 
                    (categoria === 'verbs' && p.classe_gramatical === 'verbo') ||
                    (categoria === 'nouns' && p.classe_gramatical === 'substantivo') ||
                    (categoria === 'adjectives' && p.classe_gramatical === 'adjetivo'));
            },
            
            buscar: function(termo, variant = 'all') {
                const palavrasFiltradas = this.consultarPorVariante(variant);
                termo = termo.toLowerCase();
                
                return palavrasFiltradas.filter(p => 
                    p.palavra_emakhua.toLowerCase().includes(termo) ||
                    Object.values(p.variantes || {}).some(v => {
                        if (typeof v === 'object' && v.significados) {
                            return v.significados.some(s =>
                                s.definicao_emakhua.toLowerCase().includes(termo) ||
                                (s.exemplos && s.exemplos.emakhua.toLowerCase().includes(termo))
                            );
                        }
                        return false;
                    })
                );
            }
        };
        
        // ============================================
        // VARIÁVEIS GLOBAIS E INICIALIZAÇÃO
        // ============================================
        
        let varianteAtiva = 'all';
        let categoriaAtiva = 'all';
        let paginaAtual = 0;
        const PALAVRAS_POR_PAGINA = 40; // Mais palavras por página
        let todasPalavrasAtuais = [];
        
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🧠 Dicionário Emakhua Inteligente carregado');
            
            inicializarConfiguracoes();
            inicializarIndiceAlfabetico();
            inicializarFrisoVariantes();
            inicializarSidebar();
            carregarPalavras();
            configurarEventos();
            atualizarEstatisticas();
            
            setTimeout(() => {
                document.getElementById('loading').style.display = 'none';
            }, 800);
        });
        
        // ============================================
        // INICIALIZAÇÃO DE CONFIGURAÇÕES
        // ============================================
        
        function inicializarConfiguracoes() {
            // Tema
            const temaSalvo = localStorage.getItem('dictionary-theme') || 'dark';
            if (temaSalvo === 'light') {
                document.body.classList.add('light-theme');
                document.getElementById('theme-toggle').querySelector('span').textContent = 'Tema: Claro';
                document.getElementById('theme-toggle').querySelector('i').className = 'fas fa-sun';
            }
            
            // Tamanho da fonte
            const tamanhoFonte = localStorage.getItem('font-size') || '16';
            document.documentElement.style.setProperty('--font-size-base', tamanhoFonte + 'px');
            document.getElementById('font-size-slider').value = tamanhoFonte;
            document.getElementById('font-size-value').textContent = tamanhoFonte + 'px';
        }
        
        // ============================================
        // FRISO DE VARIANTES (OCULTO/EXPANSÍVEL)
        // ============================================
        
        function inicializarFrisoVariantes() {
            const toggle = document.getElementById('variant-toggle');
            const dropdown = document.getElementById('variants-dropdown');
            
            toggle.addEventListener('click', function() {
                this.classList.toggle('active');
                dropdown.classList.toggle('active');
            });
            
            // Fechar ao clicar fora
            document.addEventListener('click', function(event) {
                if (!toggle.contains(event.target) && !dropdown.contains(event.target)) {
                    toggle.classList.remove('active');
                    dropdown.classList.remove('active');
                }
            });
            
            // Selecionar variante
            document.querySelectorAll('.variant-option').forEach(option => {
                option.addEventListener('click', function() {
                    const variant = this.dataset.variant;
                    
                    // Atualizar seleção
                    document.querySelectorAll('.variant-option').forEach(opt => {
                        opt.classList.remove('active');
                    });
                    this.classList.add('active');
                    
                    // Atualizar variante ativa
                    varianteAtiva = variant;
                    paginaAtual = 0;
                    
                    // Atualizar display
                    const display = document.getElementById('current-variant-display');
                    const title = document.getElementById('current-variant-title');
                    
                    const nomes = {
                        'all': 'Todas as Variantes',
                        'enahara': 'Enahara',
                        'emakhuwani': 'Emakhuwani',
                        'emarevoni': 'Emarevoni',
                        'emettho': 'Emettho',
                        'eshirima': 'Eshirima',
                        'elomwe': 'Elomwe'
                    };
                    
                    display.textContent = nomes[variant];
                    title.textContent = nomes[variant];
                    
                    // Fechar dropdown
                    toggle.classList.remove('active');
                    dropdown.classList.remove('active');
                    
                    // Recarregar palavras
                    carregarPalavras();
                    atualizarEstatisticas();
                });
            });
        }
        
        // ============================================
        // SIDEBAR COM CATEGORIAS EXPANSÍVEIS
        // ============================================
        
        function inicializarSidebar() {
            // Toggle do menu mobile
            const menuToggle = document.getElementById('menu-toggle');
            const sidebar = document.getElementById('sidebar-nav');
            
            menuToggle.addEventListener('click', function() {
                sidebar.classList.toggle('active');
            });
            
            // Fechar sidebar ao clicar fora (mobile)
            document.addEventListener('click', function(event) {
                if (window.innerWidth <= 1024 && 
                    !sidebar.contains(event.target) && 
                    !menuToggle.contains(event.target) &&
                    sidebar.classList.contains('active')) {
                    sidebar.classList.remove('active');
                }
            });
            
            // Categorias expansíveis
            const categoriesMain = document.getElementById('categories-main');
            const categoriesSubmenu = document.getElementById('categories-submenu');
            
            categoriesMain.addEventListener('click', function(e) {
                e.preventDefault();
                categoriesSubmenu.classList.toggle('active');
                const icon = this.querySelector('.fa-chevron-right');
                if (categoriesSubmenu.classList.contains('active')) {
                    icon.style.transform = 'rotate(90deg)';
                } else {
                    icon.style.transform = 'rotate(0deg)';
                }
            });
            
            // Selecionar categoria
            document.querySelectorAll('.submenu-item').forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Atualizar seleção
                    document.querySelectorAll('.submenu-item').forEach(i => {
                        i.classList.remove('active');
                    });
                    this.classList.add('active');
                    
                    categoriaAtiva = this.dataset.category;
                    paginaAtual = 0;
                    
                    // Atualizar texto do menu principal
                    const categoriaTexto = this.textContent.trim();
                    categoriesMain.querySelector('span').textContent = categoriaTexto;
                    
                    // Fechar submenu (opcional)
                    // categoriesSubmenu.classList.remove('active');
                    
                    // Filtrar palavras
                    filtrarPorCategoria(categoriaAtiva);
                });
            });
            
            // Toggle do tema
            document.getElementById('theme-toggle').addEventListener('click', function() {
                const isLight = document.body.classList.contains('light-theme');
                
                if (isLight) {
                    // Mudar para escuro
                    document.body.classList.remove('light-theme');
                    this.querySelector('span').textContent = 'Tema: Escuro';
                    this.querySelector('i').className = 'fas fa-moon';
                    localStorage.setItem('dictionary-theme', 'dark');
                } else {
                    // Mudar para claro
                    document.body.classList.add('light-theme');
                    this.querySelector('span').textContent = 'Tema: Claro';
                    this.querySelector('i').className = 'fas fa-sun';
                    localStorage.setItem('dictionary-theme', 'light');
                }
            });
            
            // Controle de tamanho da fonte
            const fontSizeSlider = document.getElementById('font-size-slider');
            const fontSizeValue = document.getElementById('font-size-value');
            
            fontSizeSlider.addEventListener('input', function() {
                const size = this.value + 'px';
                document.documentElement.style.setProperty('--font-size-base', size);
                fontSizeValue.textContent = size;
                localStorage.setItem('font-size', this.value);
            });
        }
        
        // ============================================
        // LISTA COMPACTA DE PALAVRAS
        // ============================================
        
        function carregarPalavras(reset = true) {
            const container = document.getElementById('words-list');
            const loading = document.getElementById('loading');
            const loadMoreContainer = document.getElementById('load-more-container');
            
            if (reset) {
                container.innerHTML = '';
                paginaAtual = 0;
                loading.style.display = 'block';
                loadMoreContainer.style.display = 'none';
            } else {
                loading.style.display = 'block';
            }
            
            setTimeout(() => {
                // Consultar palavras com filtros ativos
                let palavrasFiltradas = database.consultarPorVariante(varianteAtiva);
                
                if (categoriaAtiva !== 'all') {
                    palavrasFiltradas = database.consultarPorCategoria(categoriaAtiva, varianteAtiva);
                }
                
                todasPalavrasAtuais = palavrasFiltradas;
                
                // Paginação
                const inicio = paginaAtual * PALAVRAS_POR_PAGINA;
                const fim = inicio + PALAVRAS_POR_PAGINA;
                const palavrasPagina = todasPalavrasAtuais.slice(inicio, fim);
                
                // Gerar cards compactos
                palavrasPagina.forEach((palavra, index) => {
                    const card = criarCardCompacto(palavra, inicio + index);
                    container.appendChild(card);
                });
                
                // Atualizar contador
                document.getElementById('word-count').textContent = todasPalavrasAtuais.length;
                
                // Controlar botão "Carregar Mais"
                if (fim < todasPalavrasAtuais.length) {
                    loadMoreContainer.style.display = 'block';
                } else {
                    loadMoreContainer.style.display = 'none';
                }
                
                loading.style.display = 'none';
                
                if (!reset) {
                    paginaAtual++;
                }
                
            }, 300);
        }
        
        function criarCardCompacto(palavra, index) {
            const card = document.createElement('div');
            card.className = 'word-card-compact';
            card.dataset.id = palavra.id;
            
            // Determinar variantes disponíveis
            const variantes = Object.keys(palavra.variantes || {}).filter(v => v !== 'all');
            
            // Gênero e número
            let generoHtml = '';
            if (palavra.genero && palavra.genero !== 'invariável') {
                const generoClass = palavra.genero === 'masculino' ? 'gender-masculino' : 'gender-femenino';
                generoHtml = `<span class="gender-badge ${generoClass}">${palavra.genero.charAt(0).toUpperCase()}</span>`;
            }
            
            let numeroHtml = '';
            if (palavra.numero && palavra.numero !== 'invariável') {
                const numeroClass = palavra.numero === 'singular' ? 'number-singular' : 'number-plural';
                numeroHtml = `<span class="number-badge ${numeroClass}">${palavra.numero.charAt(0).toUpperCase()}</span>`;
            }
            
            card.innerHTML = `
                <div class="word-header-compact">
                    <div class="word-letter-compact">${palavra.palavra_emakhua.charAt(0).toUpperCase()}</div>
                    <div class="word-text-compact">
                        <div class="word-emakhua-compact">
                            ${palavra.palavra_emakhua}
                            ${generoHtml}
                            ${numeroHtml}
                        </div>
                        <div>
                            <span class="word-class-compact">${palavra.classe_gramatical}</span>
                            ${palavra.frequencia ? `<span style="font-size: 0.75rem; color: var(--text-muted);">• ${palavra.frequencia}</span>` : ''}
                        </div>
                    </div>
                </div>
                
                ${variantes.length > 0 ? `
                <div class="word-details-compact">
                    <div class="word-detail-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>${variantes.length} variante${variantes.length > 1 ? 's' : ''}</span>
                    </div>
                    ${palavra.categoria ? `
                    <div class="word-detail-item">
                        <i class="fas fa-tag"></i>
                        <span>${palavra.categoria}</span>
                    </div>
                    ` : ''}
                </div>
                ` : ''}
            `;
            
            // Animação de entrada
            card.style.opacity = '0';
            card.style.transform = 'translateY(10px)';
            
            setTimeout(() => {
                card.style.transition = 'opacity 0.3s ease, transform 0.3s ease';
                card.style.opacity = '1';
                card.style.transform = 'translateY(0)';
            }, index * 20);
            
            // Evento de clique para abrir modal
            card.addEventListener('click', () => mostrarDetalhesModal(palavra));
            
            return card;
        }
        
        // ============================================
        // MODAL DE DETALHES
        // ============================================
        
        function mostrarDetalhesModal(palavra) {
            const modal = document.getElementById('word-detail-modal');
            const title = document.getElementById('modal-word-title');
            const content = document.getElementById('modal-word-content');
            
            // Atualizar título
            title.textContent = palavra.palavra_emakhua;
            
            // Construir conteúdo
            let html = `
                <div style="margin-bottom: 25px;">
                    <div style="display: flex; flex-wrap: wrap; gap: 10px; align-items: center; margin-bottom: 15px;">
                        <span class="word-class-compact" style="font-size: 0.9rem;">${palavra.classe_gramatical}</span>
                        
                        ${palavra.genero && palavra.genero !== 'invariável' ? `
                        <span class="gender-badge ${palavra.genero === 'masculino' ? 'gender-masculino' : 'gender-femenino'}" style="font-size: 0.8rem;">
                            Gênero: ${palavra.genero}
                        </span>
                        ` : ''}
                        
                        ${palavra.numero && palavra.numero !== 'invariável' ? `
                        <span class="number-badge ${palavra.numero === 'singular' ? 'number-singular' : 'number-plural'}" style="font-size: 0.8rem;">
                            Número: ${palavra.numero}
                        </span>
                        ` : ''}
                        
                        ${palavra.frequencia ? `
                        <span style="font-size: 0.85rem; color: var(--text-muted);">
                            <i class="fas fa-chart-line"></i> ${palavra.frequencia}
                        </span>
                        ` : ''}
                    </div>
                    
                    ${palavra.categoria ? `
                    <div style="margin-bottom: 10px;">
                        <span style="font-size: 0.9rem; color: var(--text-muted);">
                            <i class="fas fa-tag"></i> Categoria: ${palavra.categoria}
                        </span>
                    </div>
                    ` : ''}
                </div>
            `;
            
            // Variantes disponíveis
            const variantes = Object.keys(palavra.variantes || {}).filter(v => v !== 'all');
            if (variantes.length > 0) {
                html += `
                    <div style="margin-bottom: 25px;">
                        <div style="font-size: 0.9rem; color: var(--text-muted); margin-bottom: 10px;">
                            <i class="fas fa-map-marker-alt"></i> Disponível em:
                        </div>
                        <div style="display: flex; flex-wrap: wrap; gap: 8px;">
                            ${variantes.map(v => `
                                <span class="variant-option" style="font-size: 0.8rem; padding: 6px 12px;">
                                    ${v}
                                </span>
                            `).join('')}
                        </div>
                    </div>
                `;
            }
            
            // Significados (pegar primeira variante disponível)
            const primeiraVariante = variantes.length > 0 ? variantes[0] : 'enahara';
            const variantData = palavra.variantes[primeiraVariante];
            
            if (variantData && variantData.significados) {
                variantData.significados.forEach((significado, index) => {
                    html += `
                        <div class="meaning-section">
                            <div class="meaning-header">
                                <div class="meaning-number">${index + 1}</div>
                                ${significado.contexto ? `
                                    <span class="context-badge">${significado.contexto}</span>
                                ` : ''}
                            </div>
                            
                            <div class="meaning-definition">
                                ${significado.definicao_emakhua}
                            </div>
                            
                            <div class="examples-grid">
                                <div class="example-card">
                                    <div class="example-title">
                                        <i class="fas fa-comment-dots"></i>
                                        Exemplo em Emakhua
                                    </div>
                                    <div class="example-text example-emakhua">
                                        "${significado.exemplos.emakhua}"
                                    </div>
                                </div>
                                
                                <div class="example-card">
                                    <div class="example-title">
                                        <i class="fas fa-language"></i>
                                        Exemplo em Português (para contexto)
                                    </div>
                                    <div class="example-text">
                                        "${significado.exemplos.portugues}"
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                });
                
                // Informações fonéticas
                if (variantData.pronuncia || variantData.tom) {
                    html += `
                        <div style="background: rgba(255, 255, 255, 0.03); border-radius: 10px; padding: 15px; margin-top: 20px;">
                            <div style="font-size: 0.9rem; color: var(--text-muted); margin-bottom: 10px;">
                                <i class="fas fa-microphone-alt"></i> Informações fonéticas
                            </div>
                            <div style="display: flex; gap: 20px; flex-wrap: wrap;">
                                ${variantData.pronuncia ? `
                                <div>
                                    <div style="font-size: 0.85rem; color: var(--text-muted);">Pronúncia</div>
                                    <div style="font-size: 1.1rem; font-weight: 600;">${variantData.pronuncia}</div>
                                </div>
                                ` : ''}
                                
                                ${variantData.tom ? `
                                <div>
                                    <div style="font-size: 0.85rem; color: var(--text-muted);">Tom</div>
                                    <div style="font-size: 1.1rem; font-weight: 600;">${variantData.tom}</div>
                                </div>
                                ` : ''}
                                
                                ${variantData.plural ? `
                                <div>
                                    <div style="font-size: 0.85rem; color: var(--text-muted);">Plural</div>
                                    <div style="font-size: 1.1rem; font-weight: 600;">${variantData.plural}</div>
                                </div>
                                ` : ''}
                            </div>
                        </div>
                    `;
                }
                
                // Notas
                if (variantData.notas) {
                    html += `
                        <div style="margin-top: 25px; padding: 15px; background: rgba(0, 212, 255, 0.05); border-radius: 10px;">
                            <div style="font-size: 0.9rem; color: var(--accent-color); margin-bottom: 10px;">
                                <i class="fas fa-sticky-note"></i> Notas
                            </div>
                            <div style="font-size: 0.95rem; color: var(--text-secondary); line-height: 1.5;">
                                ${variantData.notas}
                            </div>
                        </div>
                    `;
                }
            }
            
            content.innerHTML = html;
            modal.classList.add('active');
            
            // Fechar modal ao clicar no X ou fora
            document.getElementById('modal-close').addEventListener('click', fecharModal);
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    fecharModal();
                }
            });
            
            // Fechar com ESC
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    fecharModal();
                }
            });
        }
        
        function fecharModal() {
            document.getElementById('word-detail-modal').classList.remove('active');
        }
        
        // ============================================
        // FUNÇÕES AUXILIARES
        // ============================================
        
        function inicializarIndiceAlfabetico() {
            const container = document.querySelector('.main-content .content-header div[style*="display: flex"] div');
            const alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');
            
            alphabet.forEach(letter => {
                const link = document.createElement('span');
                link.style.cssText = 'padding: 3px 8px; border-radius: 4px; background: var(--glass-bg); ' +
                                   'color: var(--text-secondary); cursor: pointer; font-size: 0.85rem; ' +
                                   'transition: var(--transition-fast);';
                link.textContent = letter;
                
                link.addEventListener('mouseenter', function() {
                    this.style.background = 'rgba(102, 126, 234, 0.2)';
                });
                
                link.addEventListener('mouseleave', function() {
                    this.style.background = 'var(--glass-bg)';
                });
                
                link.addEventListener('click', function() {
                    const letra = this.textContent;
                    const palavrasFiltradas = todasPalavrasAtuais.filter(p => 
                        p.palavra_emakhua.toLowerCase().startsWith(letra.toLowerCase())
                    );
                    
                    const containerLista = document.getElementById('words-list');
                    containerLista.innerHTML = '';
                    
                    if (palavrasFiltradas.length === 0) {
                        containerLista.innerHTML = `
                            <div style="text-align: center; padding: 40px; color: var(--text-muted); grid-column: 1 / -1;">
                                <i class="fas fa-search" style="font-size: 2rem; margin-bottom: 15px; opacity: 0.5;"></i>
                                <p>Nenhuma palavra começando com "${letra}"</p>
                            </div>
                        `;
                    } else {
                        palavrasFiltradas.forEach((palavra, index) => {
                            const card = criarCardCompacto(palavra, index);
                            containerLista.appendChild(card);
                        });
                    }
                    
                    document.getElementById('load-more-container').style.display = 'none';
                });
                
                container.appendChild(link);
            });
        }
        
        function filtrarPorCategoria(categoria) {
            paginaAtual = 0;
            carregarPalavras();
        }
        
        function atualizarEstatisticas() {
            const palavrasVariante = database.consultarPorVariante(varianteAtiva);
            document.getElementById('stat-total').textContent = palavrasVariante.length;
            document.getElementById('word-count').textContent = palavrasVariante.length;
        }
        
        function configurarEventos() {
            // Busca
            const searchInput = document.getElementById('global-search');
            let searchTimeout;
            
            searchInput.addEventListener('input', function() {
                clearTimeout(searchTimeout);
                
                searchTimeout = setTimeout(() => {
                    const query = this.value.trim();
                    
                    if (!query) {
                        carregarPalavras(true);
                        return;
                    }
                    
                    const resultados = database.buscar(query, varianteAtiva);
                    const container = document.getElementById('words-list');
                    
                    container.innerHTML = '';
                    
                    if (resultados.length === 0) {
                        container.innerHTML = `
                            <div style="text-align: center; padding: 60px; color: var(--text-muted); grid-column: 1 / -1;">
                                <i class="fas fa-search" style="font-size: 2.5rem; margin-bottom: 20px; opacity: 0.5;"></i>
                                <p style="font-size: 1.1rem;">Nenhuma palavra encontrada para "${query}"</p>
                                <p style="font-size: 0.9rem; margin-top: 10px; opacity: 0.7;">
                                    Busque apenas em Emakhua
                                </p>
                            </div>
                        `;
                    } else {
                        resultados.forEach((palavra, index) => {
                            const card = criarCardCompacto(palavra, index);
                            container.appendChild(card);
                        });
                    }
                    
                    document.getElementById('load-more-container').style.display = 'none';
                    
                }, 350);
            });
            
            // Carregar Mais
            document.getElementById('load-more-btn').addEventListener('click', function() {
                carregarPalavras(false);
            });
            
            // Fechar sidebar ao clicar em link (mobile)
            document.querySelectorAll('.nav-item, .submenu-item').forEach(item => {
                item.addEventListener('click', function() {
                    if (window.innerWidth <= 1024) {
                        document.getElementById('sidebar-nav').classList.remove('active');
                    }
                });
            });
        }
    </script>
</body>
</html>
